package com.toozo.asteriumwebserver.gamelogic.items.location;

import java.util.Arrays;
import java.util.Collection;
import java.util.function.Function;

import com.toozo.asteriumwebserver.gamelogic.GameState;
import com.toozo.asteriumwebserver.gamelogic.PlayerCharacter;
import com.toozo.asteriumwebserver.gamelogic.Stat;
import com.toozo.asteriumwebserver.gamelogic.statuseffects.AffectStats;

public class Book extends AbstractLocationItem {
	// ===== CONSTANTS =====
	public static final Collection<Stat> STAMINA = Arrays.asList(Stat.STAMINA);
	public static final Collection<Stat> LUCK = Arrays.asList(Stat.LUCK);
	// =====================
	
	// ===== FIELDS =====
	private Collection<Stat> stats;
	private Function<Integer, Integer> effect;
	// ==================
	
	// ===== CONSTRUCTORS =====
	public Book(final String name, final Collection<Stat> stats, final int amount) {
		super(name);
		this.stats = stats;
		this.effect = (oldStat) -> (oldStat + amount);
	}
	// ========================

	// ===== METHODS =====
	@Override
	public void applyEffect(GameState state, PlayerCharacter user, Collection<PlayerCharacter> targets) {
		user.addStatusEffect(new AffectStats(user, this.stats, this.effect));
	}
	// ===================

}
