package com.toozo.asteriumwebserver.gamelogic.items.consumables;

import java.util.Collection;

import com.toozo.asteriumwebserver.gamelogic.GameState;
import com.toozo.asteriumwebserver.gamelogic.PlayerCharacter;
import com.toozo.asteriumwebserver.gamelogic.Stat;

public class Medkit extends AbstractConsumableItem {
	private int healAmount;

	public Medkit(final String name, final int healAmount) {
		super(name);
		this.healAmount = healAmount;
	}

	@Override
	public void applyEffect(GameState state, PlayerCharacter user, Collection<PlayerCharacter> targets) {
		for (final PlayerCharacter target : targets) {
			PlayerCharacter.StatBlock stats = target.getBaseStats();
			int oldHealth = stats.getStat(Stat.HEALTH);
			int newHealth = oldHealth + healAmount;
			stats.setStat(Stat.HEALTH, newHealth);
			target.setStats(stats);
		}
	}

}
