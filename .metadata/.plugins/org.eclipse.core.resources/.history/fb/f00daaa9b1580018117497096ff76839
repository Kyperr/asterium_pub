package com.toozo.asteriumwebserver.gamelogic;

import java.util.function.Function;

public class VictoryCondition {
	private String name;
	private Function<GameState, Float> progressFunction;
	private boolean active;
	
	// ===== CONSTRUCTORS =====
	/**
	 * Constructs a new VictoryAction.
	 * 
	 * @param name The name of this action.
	 * @param progressFunction A function which takes a {@link GameState} 
	 * 						   and returns a progress percentage.
	 * @param isActive Whether or not this is an active action.
	 */
	public VictoryCondition(String name, Function<GameState, Float> progressFunction, boolean isActive) {
		this.name = name;
		this.progressFunction = progressFunction;
		this.active = isActive;
	}
	
	/**
	 * Constructs an active VictoryAction.
	 * 
	 * @param name The name of this action.
	 * @param progressFunction A function which takes a {@link GameState} 
	 * 						   and returns a progress percentage.
	 */
	public VictoryCondition(String name, Function<GameState, Float> progressFunction) {
		this(name, progressFunction, true);
	}
	// ========================
	
	// ===== GETTERS =====
	public String getName() {
		return this.name;
	}

	public float getProgress(GameState game) {
		return progressFunction.apply(game);
	}
	
	public boolean isActive() {
		return this.active;
	}
	
	// ===================
	
	// ===== SETTERS =====
	public void setName(String newName) {
		this.name = newName;
	}
	
	public void setActive() {
		this.active = true;
	}
	
	public void setInactive() {
		this.active = false;
	}
	
	public void setActive(boolean isActive) {
		this.active = isActive;
	}

	public void toggleActive() {
		this.active = !this.active;
	}
	// ===================
	
}
